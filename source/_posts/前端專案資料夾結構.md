---
title: 前端專案資料夾結構
date: 2024-12-17 10:42:48
tags:
---

這部分主要是從碰過的專案和團隊的討論中，歸納出的一種作法

不一定適合所有情況，但整體上在目前工作和練習都相當受用

以下是以使用 Vite + React + TypeScript 的情況

## 大專案時架構

```
____ /src
  |
  |____ /assets  // 靜態檔案
  |  |
  |  |____ /images
  |
  |____ /components // 共用基礎元件，只處理 UI 邏輯
  |  |
  |  |____ /units // 最小共用元件
  |  |
  |  |____ /widgets // 複合型共用元件
  |
  |____ /configs // 專案設定
  |
  |____ /constants // 共用常數
  |
  |____ /features // 具體功能
  |  |
  |  |____ /[feature name]
  |     |
  |     |____ /components
  |     |  |
  |     |  |____ /containers // 頁面中處理功能邏輯的層級，會將資料往子層傳遞
  |     |  |
  |     |  |____ /widgets // 只在這個特定場景中出現的元件
  |     |
  |     |____ /pages // 這項功能所在的頁面
  |     |
  |     |____ /queries // 功能 API 的 React Query + hook 包裝
  |
  |____ /utils // 工具函示
  |  |
  |  |____ /common // 主要工具
  |     |
  |     |____ /common.ts
  |     |
  |     |____ /common.test.ts
  |
  |____ /hooks // 客製化 hook
  |
  |____ /routes // 路徑處理
  |
  |____ /services // API 相關封包
  |  |
  |  |____ /apis // 各種 API
  |  |
  |  |____ /interceptors // 攔截器
  |
  |____ /store // Redux 的處理
  |  |
  |  |____ /[store name]
  |  |  |
  |  |  |____ /[slice name].ts
  |  |
  |  |____ /index.ts
  |
  |____ /styles // 樣式處理
  |  |
  |  |____ /global.ts // 全域樣式
  |
  |____ /types // 型別處理

```

這裡需要說明一下 `container`, `widget`, `unit` 這三者間的差異

- unit: 元件的最小單位，舉凡像是 `Button` 或 `Input` 會放在這裡。如果使用 `antd` 這種 UI 套件，那有機會不會出現這層
- widget: 較複雜的元件，通常會由複數個 `unit` 組合而成，例如： `Form`
- container: 基本上會是元件的最外層，用來經手 API 邏輯的地方

另外，因為是參考我工作時習慣的架構，因此會有 `Redux`, `React Query` 等套件相關的資料夾出現。這邊出現算是做一個分類上的範例，若不需要可以直接忽視

其他像是有使用 `storybook` 之類的套件時，可以按照需求加個 `story` 資料夾在 `src` 當中

## 小專案架構

小型專案的話會更加精簡，避免過多的層級

思路上會有以下考量：

- 保留功能相關的，像 `features`, `services`
- 保留共用、實用性高的，像 `components`, `routes`

剩下的再視進行增減

```
____ /src
  |
  |____ /assets  // 靜態檔案
  |  |
  |  |____ /images
  |
  |____ /components // 共用基礎元件，只處理 UI 邏輯
  |
  |____ /features // 具體功能
  |  |
  |  |____ /[feature name]
  |     |
  |     |____ /components
  |     |
  |     |____ /pages
  |
  |____ /routes // 路徑處理
  |
  |____ /styles // 樣式處理
  |  |
  |  |____ /global.ts
  |
  |____ /types // 型別處理

```

## 總結

這邊所使用的資料夾架構中，大型被採用在工作上，小型則是各人練習上在使用

如果後面又有新的發現或體悟，可能又會長得不一樣

另外每項專案會有自己的情況，因此當做參考即可。主要還是得從「維護的方便性」、「開發效率」、「檔案位置的清楚與否」等思路來處理架構

並且在專案還小時，不需要過份去調整，簡單清楚即可。不斷進行調整最後可能會做白工

只要架構完整，不管是單人還是團隊開發，都會節省不少精力
